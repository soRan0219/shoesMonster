<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "https://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.sm.mapper.stockMapper">


	<!-- 글 목록 조회 -->
	<select id="In_material" resultType="com.sm.domain.In_materialVO">
	select i.in_num , c.client_actname , rm.raw_code , 
	rm.raw_name , r.raw_order_count , s.stock_raw_count , 
	 rm.raw_price , raw_price * raw_order_count, 
	 i.in_date , e.emp_id , i.in_YN 
	from in_material i 
	join raw_order r on i.raw_order_num = r.raw_order_num 
	join raw_material rm on rm.raw_code = r.raw_code 
	join clients c on c.client_code = i.client_code 
	join stock s on s.in_num  = i.in_num 
	join employees e on e.emp_id = i.emp_id 
	</select>
	<!-- 글 목록 조회 -->

<!-- 	<select id="In_material" resultType="com.sm.domain.In_materialVO"> -->
<!-- 		select * from in_material -->
<!-- 	</select> -->

	<!-- 발주 목록 조회 -->
    <select id="getRaw_Order" resultType="com.sm.domain.Raw_orderVO">
        select ro.raw_order_num, c.client_actname, s.raw_code, rm.raw_name, ro.raw_order_count,
               s.stock_raw_count, rm.raw_price, s.stock_raw_count*rm.raw_price AS sum, ro.raw_order_date, e.emp_id
        from raw_order ro
        JOIN raw_material rm ON ro.raw_code = rm.raw_code
        JOIN clients c ON c.client_code = rm.client_code
        JOIN employees e ON e.emp_id = ro.emp_id
        JOIN stock s ON s.raw_code = s.raw_code
    </select>
    <!-- 발주 목록 조회 -->


<!-- 게시물 총 갯수 -->
<select id="count" resultType="int">
select count(client_code) from in_material 
</select>
<!-- 게시물 총 갯수 -->

<!-- 페이징 -->
<select id="in_matPage" parameterType="hashMap" resultType="com.sm.domain.In_materialVO">
	select client_code from in_material 		
	 order by client_code desc 
	  limit #{displayPost}, #{postNum}  
</select>

<!-- 페이징 -->



</mapper>





